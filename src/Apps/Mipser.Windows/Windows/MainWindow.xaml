<?xml version="1.0" encoding="utf-8"?>
<local:MipserWindow
    x:Class="Mipser.Windows.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:Mipser.Windows"
    xmlns:pages="using:Mipser.Windows.Views.Pages"
    xmlns:shell="using:Mipser.Windows.Views.Shell"
    xmlns:ctc="using:CommunityToolkit.WinUI.Controls"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource PrimaryBackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
            <RowDefinition Height="24" MaxHeight="600" MinHeight="28"/>
            <RowDefinition Height="24"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="280" MaxWidth="600" MinWidth="50"/>
        </Grid.ColumnDefinitions>

        <!--Title Bar-->
        <shell:TitleBar DataContext="{x:Bind ViewModel, Mode=OneWay}"/>

        <!--  Status Bar  -->
        <shell:StatusBar Grid.Row="3"
                         Grid.ColumnSpan="2"/>

        <!--  Content View  -->
        <shell:PanelView x:Name="MainPanel"
                         Margin="0,0,0,14"
                         Grid.Row="1"
                         DataContext="{x:Bind ViewModel.PanelViewModel, Mode=OneWay}"/>

        <!--  Error List  -->
        <pages:ErrorList Grid.Row="2"/>

        <!--  Explorer  -->
        <Border Background="{ThemeResource SideBarBackgroundBrush}"
                Grid.Column="1"
                Grid.RowSpan="3"/>
        <pages:Explorer Grid.Column="1"
                        Grid.Row="1"
                        Grid.RowSpan="2"
                        Margin="10,0,0,0"/>

        <!-- Row Splitter-->
        <ctc:GridSplitter Grid.Row="1"
                          VerticalAlignment="Bottom"
                          ResizeBehavior="BasedOnAlignment">
            <ctc:GridSplitter.RenderTransform>
                <TranslateTransform Y="0"/>
            </ctc:GridSplitter.RenderTransform>
        </ctc:GridSplitter>

        <!-- Column Splitter -->
        <ctc:GridSplitter Grid.Column="1"
                          Grid.RowSpan="3"
                          HorizontalAlignment="Left"
                          ResizeBehavior="BasedOnAlignment">
            <ctc:GridSplitter.RenderTransform>
                <TranslateTransform X="0"/>
            </ctc:GridSplitter.RenderTransform>
        </ctc:GridSplitter>
    </Grid>
</local:MipserWindow>
