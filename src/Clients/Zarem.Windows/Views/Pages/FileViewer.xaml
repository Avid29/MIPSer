<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Zarem.Windows.Views.Pages.FileViewer"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:editctrl="using:Zarem.Windows.Controls.CodeEditor"
    xmlns:editor="using:Zarem.Windows.Views.Pages.Editor"
    xmlns:hexbox="using:HexBox.WinUI"
    xmlns:hexview="using:Zarem.Editors.HexViewer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:selectors="using:Zarem.Windows.Selectors"
    xmlns:vm="using:Zarem.ViewModels.Pages"
    mc:Ignorable="d">

    <UserControl.Resources>
        <DataTemplate x:Key="WIPFileTemplate">
            <UserControl>
                <Grid
                    Margin="36,64"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Image
                        x:Name="TrafficCone"
                        Height="100"
                        VerticalAlignment="Center"
                        Source="{ThemeResource TrafficConeIcon}" />

                    <StackPanel
                        Grid.Column="1"
                        Margin="0,24"
                        VerticalAlignment="Top">
                        <TextBlock
                            x:Name="WIPTitle"
                            x:Uid="WIPTitleTB"
                            FontSize="22"
                            Text="We're Not Ready Yet..."
                            TextWrapping="WrapWholeWords" />
                        <TextBlock
                            x:Name="WIPDescription"
                            x:Uid="WIPDescriptionTB"
                            FontSize="12"
                            Opacity=".8"
                            Text="We're working on handling this file type, but it's not ready yet."
                            TextWrapping="WrapWholeWords" />
                    </StackPanel>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup>
                            <VisualState>
                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowWidth="1240" />
                                </VisualState.StateTriggers>
                                <VisualState.Setters>
                                    <Setter Target="TrafficCone.Height" Value="160" />
                                    <Setter Target="WIPTitle.FontSize" Value="32" />
                                    <Setter Target="WIPDescription.FontSize" Value="20" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Grid>
            </UserControl>
        </DataTemplate>

        <selectors:EditorTemplateSelector x:Key="EditorTemplateSelector">
            <selectors:EditorTemplateSelector.HexEditorTemplate>
                <DataTemplate x:DataType="vm:FilePageViewModel">
                    <editor:HexEditorPage ViewModel="{x:Bind}" />
                </DataTemplate>
            </selectors:EditorTemplateSelector.HexEditorTemplate>
            <selectors:EditorTemplateSelector.TextEditorTemplate>
                <DataTemplate x:DataType="vm:FilePageViewModel">
                    <editor:TextEditorPage ViewModel="{x:Bind}" />
                </DataTemplate>
            </selectors:EditorTemplateSelector.TextEditorTemplate>
        </selectors:EditorTemplateSelector>

    </UserControl.Resources>

    <ContentControl
        HorizontalContentAlignment="Stretch"
        VerticalContentAlignment="Stretch"
        Content="{x:Bind ViewModel, Mode=OneWay}"
        ContentTemplateSelector="{StaticResource EditorTemplateSelector}" />

</UserControl>
